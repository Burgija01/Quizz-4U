<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Vojin kviz</title>
<style>
  :root{ --bg:#0f172a; --panel:#0b1220; --muted:#94a3b8; --acc:#22d3ee; --good:#22c55e; --bad:#ef4444; --gold:#fbbf24; }
  *{box-sizing:border-box}
  body{margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial; color:#fff; background:radial-gradient(1200px 800px at 70% -10%, #1e293b 0%, var(--bg) 55%)}
  .wrap{min-height:100dvh; display:grid; place-items:center; padding:24px}
  .card{width:min(860px, 96vw); background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.06); border-radius:22px; box-shadow:0 10px 30px rgba(0,0,0,.35); backdrop-filter: blur(6px);}
  header{padding:20px 22px; border-bottom:1px solid rgba(255,255,255,.08); display:flex; align-items:center; justify-content:space-between; gap:12px}
  header h1{margin:0; font-size:clamp(18px,3vw,24px)}
  .meta{display:flex; gap:10px; color:var(--muted); font-size:13px}
  .pill{padding:6px 10px; border:1px solid rgba(255,255,255,.14); border-radius:999px}
  main{padding:22px}
  .q{font-size:clamp(18px,2.6vw,22px); margin:0 0 8px}
  .sub{color:var(--muted); margin:0 0 16px; font-size:14px}
  .grid{display:grid; gap:12px}
  .row{display:flex; gap:12px; flex-wrap:wrap; align-items:center}
  button, .btn{all:unset; background:var(--panel); border:1px solid rgba(255,255,255,.1); padding:12px 14px; border-radius:12px; cursor:pointer; transition:.15s ease background, .08s ease transform; text-align:center}
  button:hover,.btn:hover{background:#0d172a}
  button:active,.btn:active{transform:translateY(1px)}
  .primary{border-color:rgba(34,211,238,.35)}
  .muted{color:var(--muted)}
  input[type="text"], input[type="number"], .fake-input{background:#0a1020; border:1px solid rgba(255,255,255,.12); color:#fff; padding:12px 14px; border-radius:12px; min-width:220px}
  input[type="number"]{appearance:textfield}
  input[type="number"]::-webkit-outer-spin-button, input[type="number"]::-webkit-inner-spin-button{appearance:none; margin:0}
  input[disabled], button[disabled]{opacity:.45; cursor:not-allowed}
  .range{width:260px}
  .footer{display:flex; align-items:center; justify-content:space-between; margin-top:16px; gap:12px}
  .progress{height:10px; background:#0a1020; border:1px solid rgba(255,255,255,.08); border-radius:999px; overflow:hidden}
  .progress > div{height:100%; width:0; background:linear-gradient(90deg, #22d3ee, #38bdf8); transition:width .35s ease}
  .center{display:grid; place-items:center; text-align:center}
  .space{height:16px}
  .wizard{width:160px; margin:auto}
  .spark{animation: twinkle 1.2s infinite ease-in-out}
  @keyframes twinkle{0%,100%{opacity:.2; transform:translateY(0)}50%{opacity:1; transform:translateY(-3px)}}
  .wand{transform-origin: 120px 60px; animation: wave 1.6s ease-in-out infinite}
  @keyframes wave{0%,100%{transform:rotate(-6deg)}50%{transform:rotate(6deg)}}
  .scratch-wrap{position:relative; width:min(520px, 92vw); height:220px; margin:12px auto; border-radius:16px; overflow:hidden; border:1px solid rgba(255,255,255,.12)}
  .prize{position:absolute; inset:0; display:grid; place-items:center; background:radial-gradient(800px 400px at 50% -30%, rgba(251,191,36,.25), transparent 60%), #0b1220}
  .prize h3{margin:0; font-size:clamp(18px,3vw,24px)}
  canvas#scratch{position:absolute; inset:0; background:repeating-linear-gradient(45deg, #6b7280, #6b7280 10px, #9ca3af 10px, #9ca3af 20px)}
  .danger{outline:2px solid var(--bad); background:rgba(239,68,68,.08)}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <header>
      <h1>üé© Vojin interaktivni kviz</h1>
      <div class="meta">
        <div class="pill" id="step">Korak 1</div>
        <div class="pill" id="status">Spremno</div>
      </div>
    </header>
    <main id="app"></main>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
<script>
const pitanja = [
  { id:"lagani1",  tip:"slider",  tekst:"Koliko smo lagani?", min:1, max:5, step:1 },
  { id:"smeh",    tip:"choice",  tekst:"Da li se smeje≈° ƒçesto ili sam poƒçastvovan?", opcije:["ƒçes...","poƒçastvovan"], obavezno:true },
  { id:"subsidy", tip:"decimal", tekst:"Idealan odnos punih i nabavnih cena u subsidy je? (dvocifren broj sa decimalom)", place:"npr. 12.5", regex:"^\\d{2}[\\.,]\\d$" },
  { id:"trajanje",tip:"text",    tekst:"Koliko ƒáe trajati proslava Vojinog roƒëendana?", place:"Upi≈°i vreme ili opis (npr. 6h, do zore...)"},
  { id:"loader1", tip:"loader",  poruke:["interesting...","good answers...","it's something unique"] },
  { id:"gm2",     tip:"decimal2", tekst:"Kolika je neka proseƒçna GM2 margina na obnovama u B2B Renewal?", place:"npr. 23.45", regex:"^\\d{2}[\\.,]\\d{2}$" },
  { id:"projekat",tip:"partial", tekst:"Na kom projektu Voja radi i u ciljevima mu je, trenutno? (reƒç sa tri slova, prva dva unosi≈°, treƒáe je unapred 'P')", sufiks:"P", maxlen:2, place:"npr. AI"},
  { id:"lagani2", tip:"slider",  tekst:"Da li smo i dalje lagani?", min:1, max:5, step:1 },
  { id:"jos",     tip:"yn-trick", tekst:"Da li misli≈° da ƒáe biti jo≈° pitanja? (Da/Ne)", note:"'Da' je zamuƒáen i neaktivan üòâ"},
  { id:"loader2", tip:"loader",  poruke:["iskreni odgovori...","jake egzibicije...","opa opa..."] },
  { id:"kraj",    tip:"final" }
];

let i = 0;
const odgovori = {};
const el = (s)=>document.querySelector(s);
const app = el('#app');

function setStepLabel(){ el('#step').textContent = `Korak ${Math.min(i+1, pitanja.length)}`; }
function setStatus(t){ el('#status').textContent = t||'Spremno'; }
function next(){ i++; setStepLabel(); render(); }
function prev(){ i=Math.max(0,i-1); setStepLabel(); render(); }

function render(){
  const q = pitanja[i]; if(!q) return;
  document.querySelector('.card').scrollIntoView({behavior:'smooth', block:'start'});

  if(q.tip==='slider'){/* ... kod ne diramo */}
  if(q.tip==='choice'){/* ... */}
  if(q.tip==='decimal' || q.tip==='decimal2'){/* ... */}
  if(q.tip==='text'){/* ... */}
  if(q.tip==='partial'){/* ... */}
  if(q.tip==='yn-trick'){/* ... */}
  if(q.tip==='loader'){/* ... */}

  if(q.tip==='final'){
    app.innerHTML = `
      <div class="center">
        <h2>üèÜ Bravo! Stigla si do kraja kviza!</h2>
        <p class="sub">Grebalica ‚§µ</p>
        <div class="scratch-wrap">
          <div class="prize"><h3>Ruƒçak u Monument restoranu! Bravos!</h3></div>
          <canvas id="scratch" width="800" height="400"></canvas>
        </div>
        <p class="sub" style="margin-top: 20px;">üéÅ Nagrada: <strong>Ruƒçak u Monument restoranu! Bravos!</strong></p>
        <div class="row" style="justify-content:center">
          <button class="btn" id="again">Igraj ponovo</button>
        </div>
      </div>`;
    fireConfetti();
    setupScratch();
    el('#again').addEventListener('click', ()=>location.reload());
    return;
  }
} // ‚úÖ ‚Üê OVAJ je kljuƒç! Pravilno zatvara funkciju render()

function wizardSVG(){/* ... */}
function fireConfetti(){/* ... */}
function setupScratch(){/* ... */}

render(); // ‚úÖ Poziva funkciju
</script>
</body>
</html>
